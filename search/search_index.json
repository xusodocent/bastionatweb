{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Benvinguts","text":"<p>Benvinguts a la p\u00e0gina del m\u00f2dul de Bastionat de Xarxes i Sistemes del Curs d'especialitzaci\u00f3 en Ciberseguretat.</p>"},{"location":"#professors","title":"Professors","text":"<ul> <li>Maite Mart\u00ed</li> <li>Xuso Ort\u00ed</li> </ul>"},{"location":"#professor-especialista","title":"Professor especialista","text":"<ul> <li>Pascual Gadea</li> </ul>"},{"location":"instalar_gns3_primer_escenari/","title":"1. Instal\u00b7laci\u00f3 de GNS3","text":""},{"location":"instalar_gns3_primer_escenari/#1-installation-from-packages","title":"1. Installation from Packages","text":""},{"location":"instalar_gns3_primer_escenari/#11-ubuntu-based-distributions-64-bit-only","title":"1.1 Ubuntu-based distributions (64-bit only)","text":"<p>These instructions are for Ubuntu and all distributions based on it (like Linux Mint).</p> <pre><code>sudo add-apt-repository ppa:gns3/ppa\nsudo apt update                                sudo apt install gns3-gui gns3-server\n</code></pre> <p>when prompted whether non-root users should be allowed to use wireshark and ubridge, select Yes both times If you want IOU support</p> <pre><code>sudo dpkg --add-architecture i386\nsudo apt update\nsudo apt install gns3-iou\n</code></pre>"},{"location":"instalar_gns3_primer_escenari/#2-to-install-docker-ce","title":"2. To install Docker CE","text":""},{"location":"instalar_gns3_primer_escenari/#21-ubuntu-version-xenial_and_newer","title":"2.1 <code>UBUNTU VERSION</code> (Xenial_and_newer)","text":"<p>Remove any old versions:</p> <p><pre><code>sudo apt remove docker docker-engine docker.io\nsudo snap remove docker\n</code></pre> Install the following packages:</p> <p><pre><code>sudo apt-get install apt-transport-https ca-certificates curl \\ software-properties-common\n</code></pre> Import the official Docker GPG key:</p> <pre><code>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\n</code></pre> <p>Add the appropriate repo:</p> <p><pre><code>sudo add-apt-repository \\\n\"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\n$(lsb_release -cs) stable\"\n</code></pre> Install Docker-CE:</p> <pre><code>sudo apt update\nsudo apt install docker-ce\n</code></pre>"},{"location":"instalar_gns3_primer_escenari/#22-mint___-version","title":"2.2 <code>MINT___ VERSION</code>","text":"<p>Step 1: Install Dependency packages</p> <p>Start the installation by ensuring that all the packages used by docker as dependencies are installed.</p> <pre><code>sudo apt update\nsudo apt -y install apt-transport-https ca-certificates curl software-properties-common\nsudo apt -y remove docker docker-engine docker.io containerd runc\n</code></pre> <p>Step 2: Add Docker\u2019s official GPG key</p> <p>Import Docker GPG key used for signing Docker packages.</p> <pre><code>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg\n</code></pre> <p>Step 3: Add the Docker repository</p> <p>Add Docker upstream repository to your Linux Mint 21 so you can install the latest stable release of Docker.</p> <pre><code>echo \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu jammy stable\" | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null\n</code></pre> <p>The command above will add a new line to additional repositories file.</p> <pre><code>cat /etc/apt/sources.list.d/docker.list\n\ndeb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu jammy stable\n</code></pre> <p>Step 4: Install Docker Engine and Compose Update the apt package index.</p> <pre><code>$ sudo apt update\n</code></pre> <p>Then install the latest version of Docker CE and Docker Compose</p> <p><pre><code>sudo apt update\nsudo apt install docker-ce docker-ce-cli containerd.io docker-compose-plugin\n</code></pre> Check the version of docker installed</p> <pre><code>docker version\n</code></pre> Note <p>docker version</p> <p>Client: Docker Engine - Community Version:           20.10.19 API version:       1.41 Go version:        go1.18.7 Git commit:        d85ef84 Built:             Thu Oct 13 16:46:58 2022 OS/Arch:           linux/amd64 Context:           default Experimental:      true</p> <p>Server: Docker Engine - Community Engine: Version:          20.10.19 API version:      1.41 (minimum version 1.12) Go version:       go1.18.7 Git commit:       c964641 Built:            Thu Oct 13 16:44:47 2022 OS/Arch:          linux/amd64 Experimental:     false containerd: Version:          1.6.8 GitCommit:        9cd3357b7fd7218e4aec3eae239db1f68a5a6ec6 runc: Version:          1.1.4 GitCommit:        v1.1.4-0-g5fd4c4d docker-init: Version:          0.19.0 GitCommit:        de40ad0</p> <p>Finally, add your user to the following groups:<code>ubridge libvirt kvm wireshark docker</code></p> <p>Opcion 1 <pre><code>sudo usermod -aG ubridge,libvirt,kvm,wireshark,docker $(whoami)\n</code></pre></p> <p>Opcion 2 <pre><code>sudo usermod -aG ubridge,libvirt,kvm,wireshark,docker $USER\n</code></pre></p> <p>Restart your user session by logging out and back in, or restarting the system.</p>"},{"location":"instalar_gns3_primer_escenari/#3-us-basic-de-gns3","title":"3. \u00das b\u00e0sic de GNS3","text":""},{"location":"instalar_gns3_primer_escenari/#31-importar-un-appliance","title":"3.1 Importar un appliance","text":"<p>Prova a importar un appliance seguint aquest tutorial.</p>"},{"location":"instalar_gns3_primer_escenari/#32-prova-basica-de-xarxa","title":"3.2 Prova b\u00e0sica de xarxa","text":"<p><code>GNS3</code> disposa de dues formes de connexi\u00f3 a la xarxa, amb <code>cloud</code> i amb <code>NAT</code>. Si treballes amb <code>Linux</code> has de tindre en compte que no funciona el <code>cloud</code> sobre la targeta <code>wifi</code> i si vols treballar d'eixa forma haur\u00e0s de fer-ho amb cable.</p> <p>Anem a provar la connexi\u00f3 b\u00e0sica amb un <code>VPC</code> que no \u00e9s m\u00e9s que un <code>PC virtual</code> que ens proporciona una consola. Suposa un avantatge respecte a <code>Virtual Box</code> o <code>VM Ware</code> ja que no haurem de tindre una m\u00e0quina diferent per a fer de clients.</p> <p></p> <p>Per tal de comprovar la IP que ens ha donat obrim la consola del VPC...</p> <pre><code>PC1&gt; ip dhcp\nDDORA IP 192.168.122.205/24 GW 192.168.122.1\n</code></pre> <p>Podem fer <code>ping</code> des del nostre PC amfitri\u00f3...</p> Ping des de l'amfitri\u00f3 <p>xus@tourmalet:~$ ping 192.168.122.205</p> <p>PING 192.168.122.205 (192.168.122.205) 56(84) bytes of data. 64 bytes from 192.168.122.205: icmp_seq=1 ttl=64 time=0.348 ms 64 bytes from 192.168.122.205: icmp_seq=2 ttl=64 time=0.778 ms 64 bytes from 192.168.122.205: icmp_seq=3 ttl=64 time=0.787 ms</p> <p>--- 192.168.122.205 ping statistics --- 3 packets transmitted, 3 received, 0% packet loss, time 2046ms rtt min/avg/max/mdev = 0.348/0.637/0.787/0.204 ms</p>"},{"location":"instalar_gns3_primer_escenari/#33-navegacio","title":"3.3 Navegaci\u00f3","text":"<p>No ens cal una m\u00e0quina per a provar si un ordinador navega, <code>GNS3</code> ens facilita la tasca amb un appliance de <code>Firefox</code>. Cal configurar la xarxa amb dhcp.</p> <p></p> <p></p>"},{"location":"instalar_gns3_primer_escenari/#34-xarxa-basica","title":"3.4 Xarxa b\u00e0sica","text":"<p>El seg\u00fcent esquema correspon a una xarxa b\u00e0sica en la que els ordinadors poden navegar.</p> <p></p> <p>Cal configurar el <code>Mikrotik</code> per a poder navegar, per tant haurem de configurar les adreces de la part <code>LAN</code>, activar un <code>servidor dhcp</code> i fer una regla en el firewall de tipus <code>masquerade</code> per a que el router puga fer <code>NAT</code>.</p> <p>Fem la configuraci\u00f3 amb <code>Winbox</code> que despr\u00e9s explicarem com funciona.</p> <p></p> <p>Canvia el nom de les interf\u00edcies del router a <code>WAN i LAN</code>.</p> <p>Observa com en la interf\u00edcie <code>WAN</code> s'ha creat autom\u00e0ticament un <code>dhcpclient</code> i obt\u00e9 l'adre\u00e7a per dhcp. Configurem la <code>LAN</code> amb 10.0.0.1/24</p> <p></p> <p>Fem el server dhcp directament des del <code>setup</code></p> <p></p> <p>Indiquem amb una regla de <code>firewall</code> de tipus <code>NAT</code> que a tot tr\u00e0fic que vaja a eixir per la <code>WAN</code> se li aplique un <code>masquerade</code>.</p> <p></p> <p></p> <p>Comprovem que assigne les adreces correctes...</p> <pre><code>PC1&gt; ip dhcp\nDORA IP 10.0.0.253/24 GW 10.0.0.1\n</code></pre> <p>Des de l'appliance de <code>Firefox</code> es veu com es pot navegar.</p>"},{"location":"instalar_gns3_primer_escenari/#4-mikrotik","title":"4. Mikrotik","text":""},{"location":"instalar_gns3_primer_escenari/#41-appliance","title":"4.1 Appliance","text":"<p>Baixa alguna versi\u00f3 estable de la web de Mikrotik en la secci\u00f3 Cloud hosted routers i tipus Raw disk image.</p> <p></p> <p>Fem una m\u00e0quina <code>Qemu</code> nova.</p> <p></p> <p>Selecciona la imatge baixada.</p> <p></p> <p>Canv\u00eda el s\u00edmbol.</p> <p></p>"},{"location":"instalar_gns3_primer_escenari/#42-configuracio","title":"4.2 Configuraci\u00f3","text":"<p>Podem configurar <code>Mikrotik</code> de tres formes diferents.</p> <ul> <li>Amb <code>Winbox</code></li> <li>Amb un appliance de <code>GNS3</code></li> <li>Navegador web</li> </ul> <p></p> <p>Warning</p> <p>L'aplicaci\u00f3 de <code>Winbox</code> est\u00e0 disponible per a <code>Windows</code>, si vols utilitzar-la en <code>Linux</code> has de fer \u00fas de <code>Wine</code>.</p> <p>Warning</p> <p>Per a poder utilitzar el navegador cal que router tinga alguna adre\u00e7a <code>IP</code> i que hi haja enrutament fins la m\u00e0quina on utilitzes el navegador.</p>"}]}